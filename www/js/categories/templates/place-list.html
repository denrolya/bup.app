<ion-view hide-back-button="true">
    <ion-nav-title>
        <span style="font-size: 24px; font-family: 'Poiret One'; letter-spacing: .2em">BP</span>
    </ion-nav-title>

    <ion-content>
        <ion-refresher pulling-text="Pull to refresh..." on-refresh="vm.getPlaces()"></ion-refresher>

        <div class="unsticky-header">
            {{ vm.category.name }}
        </div>

        <div class="bg-image-list" ng-show="vm.places.length > 0">
            <div collection-repeat="place in vm.places"
                 item-height="130px" item-width="100%"
                 ui-sref="app.category.place.place-view({categorySlug: vm.categorySlug, placeSlug: place.slug})"
                 class="bg-image-list-item bg-list-item-with-description">

                <img ng-src="{{ place.images[0].uri }}">
                <span class="text-content">
                    <span class="header">{{ place.name }}</span>
                    <div class="row row-unpadded">
                        <div class="col col-90">
                            <p class="description">{{ place.shortDescription }}</p>
                        </div>
                        <div class="col col-10">
                            <span class="distance">
                                {{ place.distance }}
                            </span>
                        </div>
                    </div>
                </span>
            </div>
        </div>

        <div ng-show="vm.places.length === 0">
            <h4>No places were found in this category</h4>
            <h5>Wait a bit and we'll post something!</h5>
        </div>
    </ion-content>
</ion-view>
