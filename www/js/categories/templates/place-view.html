<ion-view hide-nav-bar="true">
    <ion-content>
        <ion-refresher pulling-text="Pull to refresh..." on-refresh="vm.getPlace()"></ion-refresher>

        <div class="landing-hero-image landing-hero-image-with-captions" style="background-image: url('{{ vm.place.coverImage.uri }}');">
            <div class="landing-hero-image-back-button" ng-if="hasBackView()">
                <a href="" ng-click="goBack()">
                    <span class="ion-android-arrow-back"></span> Back
                </a>
            </div>
            <div class="landing-hero-image-captions">
                <span class="ehic-big">{{ vm.place.name }}</span>
                <span class="ehic-small">{{ vm.place.address }}</span>
                <span class="ehic-med">{{ vm.place.distance }}</span>
            </div>
        </div>

        <div class="landing-header landing-rates">
            <div class="row">
                <div class="col">Our Rating:</div>
                <div class="col col-67 price-indicator">
                    <span class="ion-star" ng-repeat="i in vm.getNumber(vm.place.rating) track by $index"></span>
                </div>
            </div>
            <div class="row">
                <div class="col">Price Range:</div>
                <div class="col col-67 rating-indicator">
                    <span class="ion-social-usd" ng-repeat="i in vm.getNumber(vm.place.priceRange) track by $index"></span>
                </div>
            </div>
        </div>

        <div class="landing-paragraphs">
            <div ng-bind-html="vm.place.fullDescription"></div>
        </div>

        <ion-slide-box does-continue="true" show-pager="false" ng-if="vm.place.images">
            <ion-slide ng-repeat="image in vm.place.images">
                <div class="landing-carousel-image" style="background-image: url('{{ image.uri }}');"></div>
            </ion-slide>
        </ion-slide-box>

        <div class="landing-header">
            <div class="row">
                <span>Get Directions</span>
            </div>
        </div>
        <div class="landing-map">
            <div id="map" data-tap-disabled="true"></div>
        </div>

        <div class="landing-header">
            <div class="row">
                <span>More Information</span>
            </div>
        </div>

        <div class="landing-credentials">
            <div class="row" ng-if="vm.place.website">
                <div class="col header">Website:</div>
                <div class="col col-67"><a href="" ng-click="goToLink('{{ vm.place.website }}')">{{ vm.place.website | limitTo : 50 }}</a></div>
            </div>
            <div class="row" ng-if="vm.place.phonenumber">
                <div class="col header">Phone:</div>
                <div class="col col-67"><a href="" ng-click="goToLink('tel:{{ vm.place.phonenumber }}')">{{ vm.place.phonenumber }}</a></div>
            </div>
            <div class="row" ng-if="vm.place.opened">
                <div class="col header">Open:</div>
                <div class="col col-67">
                    <span style="display: block" ng-repeat="(day, hours) in vm.place.opened">
                        {{ day }}: {{ hours.from | if : hours.from + " - " + hours.to : "Closed" }}
                    </span>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
